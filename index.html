<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","swift","java","go","ruby","python"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="swift">swift</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for Beta Access</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>How can we make cryptography usable for the consumer? How can we make it easier for developers to build secure systems?</p>

<p>Key aims to answer these questions by providing usable, decentralized public key management and libraries to simplify signatures and encryption.</p>

<p>We hope to see: better authentication, end-to-end encrypted communication, cryptographically-verifiable statements and contracts, author-signed content, and encrypted file-sharing and backups. </p>

<p>We hope that this will encourage developers to create an Internet that is more secure and more free.  </p>

<h1 id="getting-started">Getting Started</h1>

<h2 id="picking-a-provider">Picking a Provider</h2>

<p>First, we pick a <strong>Public Key Provider</strong>. Providers on Key do the hard work involved with managing, sharing and verifying public keys. We&rsquo;ll use the <a href="https://sandbox.k3y.io">Sandbox</a> for now.</p>

<p>We connect to Providers through a REST API, and receive a response either as a JSON array or a Protocol Buffer. We can register a public key, request a public key, or efficiently audit a Provider through the API.</p>

<p>Let&rsquo;s retrieve a user&rsquo;s public key in the browser: <a href="https://sandbox.k3y.io/test_user/keys.json">/test_user/keys/1.json</a>. </p>

<p>We can see the user&rsquo;s X.509 certificates and the Provider&rsquo;s proof that the keys are valid.</p>

<h2 id="using-a-client">Using a Client</h2>

<blockquote>
<p>Using the Key Demo Client</p>
</blockquote>
<pre class="highlight shell"><code>  git clone https://github.com/keycx/demo.git
  <span class="nb">cd </span>demo
  python simple_encrypt.py
</code></pre>

<p>Next, we have to set up a <strong>Client</strong>, which generates, stores and verifies public keys, and encrypts and signs data.</p>

<p>For this example, we&rsquo;ll use a simple shell client written in Python. Clone the source <a href="https://github.com/keycx/demo.git">here</a>, then browse to the source: <code class="prettyprint">$ python simple_encrypt.py</code></p>

<h3 id="registering">Registering</h3>

<p>Through the client, we generate a Public/Private Keypair and register the public key with the Sandbox Provider. We retrieve a signed commitment from the Provider that our public key has been accepted. </p>

<h3 id="encryption">Encryption</h3>
<pre class="highlight shell"><code>  Username &gt; <span class="nb">echo

  </span>Message &gt; <span class="s1">'Some message here'</span>

  Decrypted response is <span class="s1">'Some message here'</span> 
</code></pre>

<p>There&rsquo;s a user in the Sandbox named Echo. Let&rsquo;s get her public key from the Sandbox and verify it. Type <code class="prettyprint">echo</code> into the client.</p>

<p>Now that we have her valid public key, we can encrypt a message. Type anything into the prompt, and we&rsquo;ll encrypt using our keypair and her public key.</p>

<h3 id="decryption">Decryption</h3>

<p>Now, we&rsquo;ll listen for messages in return. Echo decrypts received messages, then she repeats them and encrypts her own message to the sender.</p>

<h1 id="providers">Providers</h1>

<p>With Key, users don&rsquo;t have to manually verify public keys, a major barrier to usability. Providers issue public key bindings that are efficiently monitored by the user and by a network of decentralized auditors. </p>

<h2 id="creating-a-provider">Creating a Provider</h2>

<p>Providers can be hosted independently or through Key. Providers are monitored to ensure that public key bindings are correct, </p>

<h2 id="auditing-a-provider">Auditing a Provider</h2>

<h2 id="whistleblowing">Whistleblowing</h2>

<h1 id="clients">Clients</h1>

<p>Anything that has an Internet connection, secure storage for private keys, and computational power for cryptographic operations with side-channel resistance can be a Key <strong>Client</strong>. Clients create keypairs, store private keys, register and retrieve public keys, and encrypt and sign data. Further, Clients audit their own public-key bindings to ensure that the <strong>Provider</strong> isn&rsquo;t serving false keys. </p>

<h2 id="keypairs">Keypairs</h2>

<p>Key uses </p>

<h2 id="registering-a-public-key">Registering a Public Key</h2>

<h2 id="auditing-your-public-key">Auditing your Public Key</h2>

<h2 id="verifying-a-public-key">Verifying a Public Key</h2>

<h2 id="adding-a-new-device">Adding a New Device</h2>

<h1 id="encryption">Encryption</h1>

<h1 id="signatures">Signatures</h1>

<h1 id="authentication">Authentication</h1>

<h2 id="why-key">Why Key?</h2>

<h2 id="registration">Registration</h2>

<h2 id="logins">Logins</h2>

<h2 id="proof-of-identity">Proof-of-Identity</h2>

<h1 id="acknowledgments">Acknowledgments</h1>

<p>Key owes a great deal to the following people and organizations, who have developed many of the technologies that we use.</p>

<ul>
<li><a href="https://www.certificate-transparency.org/">Certificate Transparency</a></li>
<li><a href="https://eprint.iacr.org/2014/1004.pdf">CONIKS</a> developed by Marcela S. Melara, Aaron Blankstein, Joseph Bonneau, Edward W. Felten, Michael J. Freedman</li>
<li><a href="http://nacl.cr.yp.to/">NaCl</a> developed by Daniel J. Bernstein</li>
</ul>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&rsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="swift">swift</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
